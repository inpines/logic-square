# 02-domain — 世界建模（Domain）

> 本資料夾定義的是 **系統所面對的世界「是什麼」**，  
> 而不是系統「要怎麼做」。

在這一層，我們關心的是：  
**有哪些存在值得被系統當成存在來對待，以及它們如何存在。**

---

## 本層在黃金圈中的位置

```text
What → Why → Structure → How（方法）→ Analysis → Implementation
              ↑
           02-domain 在這裡
````

- `01-golden-circle/structure.md`：結構思考的原則與全貌
    
- `02-domain/`：結構思考後的**具體建模成果**
    

---

## 本層解決的核心問題

- 世界中有哪些「存在」？
    
- 哪些名詞值得成為事物？
    
- 哪些只是值、分類或事件？
    
- 誰要為這些存在負責？
    
- 哪些存在需要被追蹤與回溯？
    

> ⚠️ 若這些問題沒有答案，  
> 任何流程、活動或技術設計都只是猜測。

---

## 概念分類原則（必讀）

本系統中的所有重要名詞，**必須先被歸類為以下其中一種**：

### 1️⃣ 事物（Thing / Entity）

- 具有身分（Identity）
    
- 在時間中持續存在
    
- 狀態改變具有後果
    
- 有角色對其負最終責任
    

📁 `things/`

---

### 2️⃣ 值物件（Value Object）

- 沒有身分
    
- 以「值的意義」判斷是否相同
    
- 不被單獨追蹤
    
- 通常不可部分修改
    

📁 `value-objects/`

---

### 3️⃣ 列舉（Enumeration）

- 有限、封閉的語意選項集合
    
- 不具時間性
    
- 新增選項代表規則變更
    

📁 `enums/`

---

### 4️⃣ 訊息／事件分類（Message / Event Type）

- 描述「發生了什麼」
    
- 通常是瞬時存在
    
- 用來溝通與觸發，而非長期保存
    

📁 `messages/`

---

## 本資料夾結構說明

```text
02-domain/
├─ concept-overview.md        # 名詞與概念分類總覽
├─ things/                    # 事物（Entity / Thing）
├─ value-objects/             # 值物件（Value Object）
├─ enums/                     # 列舉（Enumeration）
└─ messages/                  # 訊息／事件分類
```

### `concept-overview.md`

- 列出系統中所有重要名詞
    
- 標註其概念類型
    
- 作為結構審查的入口文件
    

---

### `things/`

- 每一個檔案描述 **一個事物**
    
- 使用事物卡模板
    
- 必須說清楚：
    
    - 概念定義
        
    - 身分與生命週期
        
    - 重要屬性（語意／責任）
        
    - 與 Why 的對齊關係
        

---

### `value-objects/`

- 描述「值本身的意義」
    
- 不描述流程或責任
    
- 不允許 CRUD 思維
    

---

### `enums/`

- 定義語意邊界
    
- 列舉本身不隨資料變化
    
- 變更需回溯規則影響
    

---

### `messages/`

- 定義事件或通知的語意
    
- 以過去式命名
    
- 不等同於資料表或主體
    

---

## 明確禁止事項（非常重要）

- ❌ 把值物件當成事物設計 CRUD
    
- ❌ 把狀態或流程步驟當成事物
    
- ❌ 把事件當成長期存在的資料主體
    
- ❌ 讓技術模型決定概念分類
    

> **概念分類一旦錯誤，  
> 後續所有設計都會被迫補救。**

---

## 與其他層的關係

- 本層 **不描述流程或活動**  
    → 請見 `04-analysis/`
    
- 本層 **不描述技術結構**  
    → 請見 `05-implementation/`
    
- 本層所有內容 **必須可回溯到 Why**  
    → 否則該概念不成立
    

---

## 進入 Analysis 的門檻（Gate）

在進入 `04-analysis/` 之前，請確認：

-  所有重要名詞皆已分類
    
-  每個事物都有清楚的身分與責任
    
-  值物件、列舉、事件未被誤用
    
-  結構可用語言完整描述
    

---

## 一句定錨

> **Domain 不是系統內部的模型，  
> 而是系統必須尊重的世界。**

---
